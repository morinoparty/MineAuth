---
title: "ğŸ’¾ Database Record Data"
description: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
---

## ğŸ‘¤ UserAuthData

ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã€‚

| Column Name | Type | Example | Description |
|-------------|------|---------|-------------|
| uuid | VARCHAR(36) PK | `550e8400-e29b-41d4-a716-446655440000` | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®Minecraft UUID |
| password | VARCHAR(255) | `$argon2id$v=19$...` | Argon2idã§ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ |

---

## ğŸ”‘ RevokeTokenData

ç„¡åŠ¹åŒ–ã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç®¡ç†ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã€‚

| Column Name | Type | Example | Description |
|-------------|------|---------|-------------|
| token_id | VARCHAR(200) PK | `abc123...` | ç„¡åŠ¹åŒ–ã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã®ID |
| exp_data | TIMESTAMP | `2025-01-06 12:00:00` | ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™ |

---

## ğŸ†” Accounts

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã€‚ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆãƒ­ãƒœãƒƒãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰ã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã€‚

| Column Name | Type | Example | Description |
|-------------|------|---------|-------------|
| account_id | VARCHAR(36) PK | `019234ab-...` | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDï¼ˆUUIDv7ã€æ™‚é–“ã‚½ãƒ¼ãƒˆå¯èƒ½ï¼‰ |
| account_type | VARCHAR(20) | `player` | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¨®åˆ¥: "player" ã¾ãŸã¯ "service" |
| identifier | VARCHAR(64) | `550e8400-e29b-41d4-a716-446655440000` | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å ´åˆã¯Minecraft UUIDã€ã‚µãƒ¼ãƒ“ã‚¹ã®å ´åˆã¯ã‚µãƒ¼ãƒ“ã‚¹å |
| created_at | TIMESTAMP | `2025-01-06 12:00:00` | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ—¥æ™‚ |

---

## ğŸ” OAuthClients

OAuth2/OIDCã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç®¡ç†ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã€‚

| Column Name | Type | Example | Description |
|-------------|------|---------|-------------|
| client_id | VARCHAR(36) PK | `019234ab-...` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDï¼ˆUUIDv7ã€æ™‚é–“ã‚½ãƒ¼ãƒˆå¯èƒ½ï¼‰ |
| client_name | VARCHAR(255) | `My OAuth App` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¡¨ç¤ºå |
| client_type | VARCHAR(20) | `confidential` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç¨®åˆ¥: "public" ã¾ãŸã¯ "confidential" |
| client_secret_hash | VARCHAR(255) NULL | `$argon2id$v=19$...` | Argon2idã§ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆï¼ˆPublicã®å ´åˆã¯NULLï¼‰ |
| redirect_uri | VARCHAR(2048) | `https://example\.com/callback.*` | ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIï¼ˆæ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³å¯¾å¿œï¼‰ |
| issuer_account_id | VARCHAR(36) FK | `019234ab-...` | ç™ºè¡Œè€…ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDï¼ˆAccountsãƒ†ãƒ¼ãƒ–ãƒ«å‚ç…§ï¼‰ |
| created_at | TIMESTAMP | `2025-01-06 12:00:00` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆæ—¥æ™‚ |
| updated_at | TIMESTAMP | `2025-01-06 12:00:00` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ›´æ–°æ—¥æ™‚ |

---

## ğŸ“Š ER Diagram

```mermaid
erDiagram
    UserAuthData {
        VARCHAR(36) uuid PK
        VARCHAR(255) password
    }

    RevokeTokenData {
        VARCHAR(200) token_id PK
        TIMESTAMP exp_data
    }

    Accounts {
        VARCHAR(36) account_id PK "UUIDv7"
        VARCHAR(20) account_type "player/service"
        VARCHAR(64) identifier
        TIMESTAMP created_at
    }

    OAuthClients {
        VARCHAR(36) client_id PK "UUIDv7"
        VARCHAR(255) client_name
        VARCHAR(20) client_type "public/confidential"
        VARCHAR(255) client_secret_hash "nullable, Argon2id"
        VARCHAR(2048) redirect_uri
        VARCHAR(36) issuer_account_id FK
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }

    Accounts ||--o{ OAuthClients : "issues"
```
