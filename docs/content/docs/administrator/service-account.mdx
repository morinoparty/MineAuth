---
title: Service Account
description: Guide for managing service accounts in MineAuth
icon: Bot
---

Service accounts provide machine-to-machine (M2M) authentication for MineAuth. They allow external services, bots, and automation tools to access player data through the MineAuth API without requiring an OAuth2 flow.

## Overview

Unlike user tokens issued through OAuth2, service account tokens are long-lived JWT tokens generated by server administrators via in-game commands. Service accounts can access any player's data on `@TargetPlayer` endpoints, making them suitable for dashboards, analytics services, and backend integrations.

## Creating a Service Account

Use the following command to create a new service account:

```
/ma service create
```

A dialog will appear where you can enter the service name.

:::tip[Naming Convention]
Service names can only contain alphanumeric characters, hyphens, and underscores (e.g., `web-dashboard`, `discord_bot`).
:::

## Managing Service Accounts

### List Service Accounts

View all registered service accounts:

```
/ma service list
```

### View Service Account Details

Check detailed information including active tokens:

```
/ma service info <name>
```

### Delete Service Account

Delete a service account and revoke all associated tokens:

```
/ma service delete <name>
```

:::warning[Important]
Deleting a service account immediately revokes all its tokens. Any services using those tokens will lose access.
:::

## Token Management

### Generate a Token

Issue a new JWT token for a service account:

```
/ma service token <name>
```

:::warning[Token Security]
The token is displayed only once. Copy and store it in a secure location immediately. If you lose the token, you must generate a new one.
:::

Generating a new token automatically revokes all previously issued tokens for that service account.

### Token Characteristics

| Property | Value |
|----------|-------|
| Lifetime | 1 year |
| Format | JWT (RS256) |
| Revocation | Automatic when regenerated or account deleted |

## Using Service Tokens

Include the token in the `Authorization` header of API requests:

```bash
curl -H "Authorization: Bearer <service-token>" \
  https://mc.example.com/api/v1/plugins/vault-addon/balance/Notch
```

### Access Permissions

Service accounts have the following access model:

| Endpoint Type | Access |
|---------------|--------|
| `@TargetPlayer` endpoints | Any player's data via UUID or name |
| `@AuthedAccessUser` endpoints | Not accessible |
| `@Permission`-protected endpoints | Permission check bypassed |
| Public endpoints | Accessible |

## Command Reference

| Command | Permission | Description |
|---------|------------|-------------|
| `/ma service create` | `mineauth.service.create` | Create a new service account |
| `/ma service list` | `mineauth.service.list` | List all service accounts |
| `/ma service info <name>` | `mineauth.service.info` | View service account details |
| `/ma service delete <name>` | `mineauth.service.delete` | Delete service account |
| `/ma service token <name>` | `mineauth.service.token` | Generate/regenerate token |

## Example Use Cases

### Web Dashboard

A web dashboard that displays player statistics:

```bash
# Get player's balance
curl -H "Authorization: Bearer $SERVICE_TOKEN" \
  https://mc.example.com/api/v1/plugins/vault-addon/balance/Notch

# Get player's claims
curl -H "Authorization: Bearer $SERVICE_TOKEN" \
  https://mc.example.com/api/v1/plugins/mineauth-addon-griefprevention/claims/Notch

# Get player's quests
curl -H "Authorization: Bearer $SERVICE_TOKEN" \
  https://mc.example.com/api/v1/plugins/betonquest-addon/quests/Notch
```

### Discord Bot

A Discord bot that looks up player information by UUID:

```bash
# Get player's shops
curl -H "Authorization: Bearer $SERVICE_TOKEN" \
  https://mc.example.com/api/v1/plugins/quickshophikari/users/550e8400-e29b-41d4-a716-446655440000/shops
```
