---
title: UserInfo Endpoint
description: UserInfoエンドポイントの仕様
---

UserInfo エンドポイントは、OpenID Connect Core 1.0 Section 5.3 に準拠したユーザー情報を返します。

## エンドポイント

```
GET /oauth2/userinfo
```

## 認証

Bearer トークン（アクセストークン）が必要です。

```http
Authorization: Bearer <access_token>
```

## レスポンス

### スコープに基づくクレーム

返却されるクレームは、アクセストークンのスコープに依存します。

| スコープ | クレーム |
|---------|---------|
| `openid` | `sub` |
| `profile` | `name`, `nickname`, `picture` |

### レスポンス例

#### openid スコープのみの場合

```json
{
  "sub": "550e8400-e29b-41d4-a716-446655440000"
}
```

#### openid + profile スコープの場合

```json
{
  "sub": "550e8400-e29b-41d4-a716-446655440000",
  "name": "Steve",
  "nickname": "Steve",
  "picture": "https://crafthead.net/avatar/550e8400-e29b-41d4-a716-446655440000"
}
```

## クレームの説明

| クレーム | 型 | 説明 |
|---------|---|------|
| `sub` | String | Subject Identifier - プレイヤーのUUID |
| `name` | String | プレイヤーの表示名 |
| `nickname` | String | プレイヤーのニックネーム |
| `picture` | String | プレイヤーのアバター画像URL（Crafthead API） |

## 参考

- [OpenID Connect Core 1.0 - UserInfo Endpoint](https://openid.net/specs/openid-connect-core-1_0.html#UserInfo)
- [Crafthead](https://crafthead.net/) - Minecraft アバター画像 API
